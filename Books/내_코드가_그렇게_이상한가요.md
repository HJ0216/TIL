# ë‚´ ì½”ë“œê°€ ê·¸ë ‡ê²Œ ì´ìƒí•œê°€ìš”?

ğŸ“– 2024.03.11 -


## 3ì¥ í´ë˜ìŠ¤ ì„¤ê³„: ëª¨ë“  ê²ƒê³¼ ì—°ê²°ë˜ëŠ” ì„¤ê³„ ê¸°ë°˜

### 3.2 ì„±ìˆ™í•œ í´ë˜ìŠ¤ë¡œ ì„±ì¥ì‹œí‚¤ëŠ” ì„¤ê³„ ê¸°ë²•

```java
class Money{
    int amount;
    Currency currency;
}
```

<br/>

â­ ìƒì„±ìë¡œ í™•ì‹¤í•˜ê²Œ ì´ˆê¸°ê°’ ì „ë‹¬ë°›ê¸°
```java
class Money{
    int amount;
    Currency currency;

    Money(int amount, Currency currency){
        this.amount = amount;
        this.currency = currency;
    }
}
```

<br/>


â­ ìƒì„±ìë¡œ ì „ë‹¬ë˜ëŠ” ì´ˆê¸°ê°’ ìœ íš¨ì„± ê²€ì‚¬ ì¶”ê°€
```java
class Money{
    int amount;
    Currency currency;

    Money(int amount, Currency currency){
        if(amount < 0){
            throw new IllegalArgumentException("ê¸ˆì•¡ì€ 0 ì´ìƒì˜ ê°’ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.");
        }
        if(currency == null){
            throw new NullPointerException("í†µí™” ë‹¨ìœ„ë¥¼ ì§€ì •í•´ì£¼ì„¸ìš”.");
        }

        this.amount = amount;
        this.currency = currency;
    }
}
```

<br/>

â­ ë°ì´í„°ì™€ ê´€ë ¨ëœ ê³„ì‚° ë¡œì§ ì¶”ê°€
```java
class Money{
    // ìƒëµ
    
    void add(int other){
        amount += other;
    }
}
```

<br/>

â­ ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ë¥¼ ë¶ˆë³€ë³€ìˆ˜ë¡œ ë§Œë“¤ì–´ ì˜ˆìƒì¹˜ ëª»í•œ ë™ì‘ ë°©ì–´
```java
class Money{
    final int amount;
    final Currency currency;
    
    // ìƒëµ
}
```

<br/>

â­ ë¶ˆë³€ê°’ì˜ ë³€ê²½ì´ í•„ìš”í•  ê²½ìš°, ìƒˆë¡œìš´ ì¸ìŠ¤í„´ìŠ¤ ë§Œë“¤ê¸°
```java
class Money{
    // ìƒëµ

    Money add(int other){
        int added = amount + other;
        return new Money(added, currency);
    }
}
```

<br/>

â­ ë§¤ê°œë³€ìˆ˜ ë° ì§€ì—­ë³€ìˆ˜ë¥¼ ë¶ˆë³€ìœ¼ë¡œ ì„ ì–¸í•˜ì—¬ ì˜ˆìƒì¹˜ ëª»í•œ ë™ì‘ ë°©ì–´
```java
class Money{
    // ìƒëµ

    Money add(final int other){
        final int added = amount + other;
        return new Money(added, currency);
    }
}
```

<br/>

â­ ì—‰ëš±í•œ ê°’ì„ ì „ë‹¬í•˜ì§€ ì•Šë„ë¡ ìë£Œí˜•ì„ ì§€ì •í•˜ê¸°
```java
class Money{
    // ìƒëµ

    Money add(final Money other){
        final int added = amount + other.amount;
        return new Money(added, currency);
    }
}
```

<br/>

â­ ë©”ì„œë“œ ë¡œì§ì— ìœ íš¨ì„± ê²€ì‚¬ ì¶”ê°€
```java
class Money{
    // ìƒëµ

    Money add(final Money other){
        if(!currency.equals(other.currency)){
            throw new IllegalArgumentException("í†µí™” ë‹¨ìœ„ê°€ ë‹¤ë¦…ë‹ˆë‹¤.");
        }

        final int added = amount + other.amount;
        return new Money(added, currency);
    }
}
```

<br/>

â­ ì˜ë¯¸ì—†ëŠ” ë©”ì„œë“œëŠ” ì¶”ê°€í•˜ì§€ ì•Šê¸°

<br/>

ğŸ«  ìµœì¢…
```java
class Money{
    final int amount;
    final Currency currency;

    Money(final int amount, final Currency currency){
        if(amount < 0){
            throw new IllegalArgumentException("ê¸ˆì•¡ì€ 0 ì´ìƒì˜ ê°’ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.");
        }

        if(currency == null){
            throw new NullPointerException("í†µí™” ë‹¨ìœ„ë¥¼ ì§€ì •í•´ì£¼ì„¸ìš”.");
        }

        this.amount = amount;
        this.currency = currency;
    }

    Money add(final Money other){
        if(!currency.equals(other.currency)){
            throw new IllegalArgumentException("í†µí™” ë‹¨ìœ„ê°€ ë‹¤ë¦…ë‹ˆë‹¤.");
        }

        final int added = amount + other.amount;
        return new Money(added, currency);
    }
}
```



## 4ì¥ ë¶ˆë³€ í™œìš©í•˜ê¸°: ì•ˆì •ì ìœ¼ë¡œ ë™ì‘í•˜ê²Œ ë§Œë“¤ê¸°
### 4.1 ì¬í• ë‹¹
```java
int damage(){
    int tmp = member.power() + member.weaponAttack();
    tmp = (int)(tmp * (1f + member.speed() / 100f));
    tmp = tmp - (int)(enemy.defense / 2);
    tmp = Math.max(0, tmp);
}
```

<br/>

â­ ë¶ˆë³€ ë³€ìˆ˜ë¡œ ë§Œë“¤ì–´ì„œ ì¬í• ë‹¹ ë§‰ê¸°
```java
int damage(){
    final int basicAttackPower = member.power() + member.weaponAttack();
    final int finalAttackPower = (int)(basicAttackPower * (1f + member.speed() / 100f));
    final int reduction = (int)(enemy.defense / 2);
    final int damage = Math.max(0, finalAttackPower - reduction);

    return damage;
}
```

<br/>

ğŸš¨ ê°€ë³€ìœ¼ë¡œ ì¸í•œ ì˜ë„ì¹˜ ì•Šì€ ì˜í–¥ ìœ ì˜
```java
class AttackPower{
    static final int MIN = 0;
    int value;

    AttackPower(int value){
        if(value < MIN){
            throw new ILLegalArgumentException();
        }

        this.value = value;
    }
}

class Weapon{
    final AttackPower attackPower;

    Weapon(AttackPower attackPower){
        this.attackPower = attackPower;
    }
}


// ê°™ì€ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê³µìœ í•  ê²½ìš°,

AttackPower attackPower = new AttackPower(20);
Weapon weaponA = new Weapon(attackPower);
Weapon weaponB = new Weapon(attackPower);

weaponA.attackPower.value = 25;

System.out.println("Weapon A attack power: " + weaponA.attackPower.value); // 25
System.out.println("Weapon B attack power: " + weaponB.attackPower.value); // 25


// ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê°œë³„ì ìœ¼ë¡œ ìƒì„±í•œ ê²½ìš°,
AttackPower attackPowerA = new AttackPower(20);
AttackPower attackPowerB = new AttackPower(20);

Weapon weaponA = new Weapon(attackPowerA);
Weapon weaponB = new Weapon(attackPowerB);

weaponA.attackPower.value += 5;
System.out.println("Weapon A attack power: " + weaponA.attackPower.value); // 25
System.out.println("Weapon B attack power: " + weaponB.attackPower.value); // 20
```

<br/>

```java
class AttackPower{
    static final int MIN = 0;
    int value;

    AttackPower(int value){
        if(value < MIN){
            throw new IllegalArgumentException();
        }

        this.value = value;
    }

    void reinforce(int increment){
        value += increment;
    }

    void disable(){
        value = MIN;
    }
}

AttackPower attackPower = new AttackPower(20);
attackPower.reinforce(15);
System.out.println("attackPower.value: " + attackPower.value); // 35

// ë‹¤ë¥¸ ìŠ¤ë ˆë“œì—ì„œ ë©”ì„œë“œ í˜¸ì¶œ
attackPower.disable();
System.out.println("attackPower.value: " + attackPower.value); // 0
```

<br/>

ğŸš¨ ë©”ì„œë“œ
- ì£¼ìš” ì‘ìš©: ë§¤ê°œë³€ìˆ˜ë¥¼ ì „ë‹¬ë°›ê³ , ê°’ì„ ë¦¬í„´
- ë¶€ìˆ˜ íš¨ê³¼: ì£¼ìš” ì‘ìš© ì´ì™¸ì˜ ìƒíƒœ ë³€ê²½ì„ ì¼ìœ¼í‚¤ëŠ” ê²ƒ
    - ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ ë³€ê²½
    - ì „ì—­ë³€ìˆ˜ ë³€ê²½
    - ë§¤ê°œë³€ìˆ˜ ë³€ê²½
    - íŒŒì¼ ì½ê³  ì“°ê¸°ì™€ ê°™ì€ I/O ì¡°ì‘

â­ í•¨ìˆ˜ì˜ ì˜í–¥ ë²”ìœ„ í•œì •í•˜ê¸°
- ë°ì´í„°(ìƒíƒœ)ëŠ” ë§¤ê°œë³€ìˆ˜ë¡œ ì „ë‹¬ ë°›ê¸°
- ìƒíƒœ ë³€ê²½í•˜ì§€ ì•Šê¸°
- ê°’ì€ í•¨ìˆ˜ì˜ ë¦¬í„´ ê°’ìœ¼ë¡œ ëŒë ¤ì£¼ê¸°

<br/>

â­ ê°’ì„ ë¶ˆë³€ìœ¼ë¡œ ë°”ê¾¸ê¸°
```java
class AttackPower{
    static final int MIN = 0;
    final int value;

    AttackPower(final int value){
        if(value < MIN){
            throw new IllegalArgumentException();
        }

        this.value = value;
    }

    AttackPower reinforce(final AttackPower increment){
        return new AttackPower(this.value + increment.value);
    }

    AttackPower disable(){
        return new AttackPower(MIN);
    }
}
```

<br/>

```java
class Weapon{
    final AttackPower attackPower;

    Weapon(final AttackPower attackPower){
        this.attackPower = attackPower;
    }

    Weapon reinforce(final AttackPower increment){
        final AttackPower reinforced = attackPower.reinforce(increment);
        return new Weapon(reinforced);
    }
}
```

<br/>

```java
final AttackPower attackPowerA = new AttackPower(20);
final AttackPower attackPowerB = new AttackPower(20);

final Weapon weaponA = new Weapon(attackPowerA);
final Weapon weaponB = new Weapon(attackPowerB);

final AttackPower increment = new AttackPower(5);
final Weapon reinforceWeaponA = weaponA.reinforce(increment);

System.out.println("Weapon A attack power: " + weaponA.attackPower.value); // 20
System.out.println("Reinforced Weapon A attack power: " + reinforcedWeaponA.attackPower.value); // 25
System.out.println("Weapon B attack power: " + weaponB.attackPower.value); // 20
```

<br/>

â­ ê¸°ë³¸ì ìœ¼ë¡œ ë¶ˆë³€ìœ¼ë¡œ
- ë³€ìˆ˜ì˜ ì˜ë¯¸ê°€ ë³€í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ í˜¼ë€ì„ ì¤„ì¼ ìˆ˜ ìˆìŒ
- ë™ì‘ì´ ì•ˆì •ì ì´ê²Œ ë˜ë¯€ë¡œ ê²°ê³¼ë¥¼ ì˜ˆì¸¡í•˜ê¸° ì‰¬ì›€
- ì½”ë“œì˜ ì˜í–¥ ë²”ìœ„ê°€ í•œì •ì ì´ë¯€ë¡œ ìœ ì§€ë³´ìˆ˜ê°€ í¸ë¦¬í•´ì§

<br/>

cf. Mutater: ìƒíƒœë¥¼ ë³€í™”ì‹œí‚¤ëŠ” ë©”ì„œë“œ
```java
class HitPoint{
    private static final int MIN = 0;
    int amount;

    HitPoint(final int amount){
        if(amount < MIN){
            throw new IllegalArgumentException();
        }

        this.amount = amount;
    }

    void damage(final int damageAmount){
        final int nextAmount = amount - damageAmount;
        amount = Math.max(MIN, nextAmount);
    }

    boolean isZero(){
        return amount == MIN;
    }
}

class Member{
    final HitPoint hitPoint;
    final States states;

    void damage(final int damageAmount){
        hitPoint.damage(damageAmount);
        if(hitPoint.isZero()){
            states.add(StateType.dead);
        }
    }
}
```



## 5ì¥ ì‘ì§‘ë„: í©ì–´ì ¸ ìˆëŠ” ê²ƒë“¤
â­ ì‘ì§‘ë„: í´ë˜ìŠ¤ ë‚´ë¶€ì—ì„œ ë°ì´í„°ì™€ ë¡œì§ì˜ ê´€ê³„ê°€ ì–¼ë§ˆë‚˜ ê°•í•œì§€ ë‚˜íƒ€ë‚´ëŠ” ì§€í‘œ
### 5.1 static ë©”ì„œë“œ ì˜¤ìš©
```java
class OrderManager{
    static int add(int moneyAmount1, int moneyAmount2){
        return moneyAMount1 + moneyAmount2;
    }
}
```
ğŸš¨ static ë©”ì„œë“œëŠ” ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ì–´, ë°ì´í„°ì™€ ë°ì´í„°ë¥¼ ì¡°ì‘í•˜ëŠ” ë¡œì§ ì‚¬ì´ì— ê´´ë¦¬ê°€ ìƒê²¨ ì‘ì§‘ë„ê°€ ë‚®ì•„ì§ˆ ìˆ˜ ìˆìŒ

```java
class PaymentManager{
    private int discountRate;

    int add(int moneyAmount1, int moneyAmount2){
        return moneyAmount1 + moneyAmount2;
    }
}
```
ğŸš¨ ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ë¥¼ ì „í˜€ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ë©”ì„œë“œëŠ” static ë©”ì„œë“œì™€ ë™ì¼í•œ ê¸°ëŠ¥  
â†’ ë©”ì„œë“œ ì•ì— static ì¶”ê°€ ì‹œ, ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ì¸ìŠ¤í„´ìŠ¤ ë©”ì„œë“œì¸ ì²™ í•˜ëŠ” static ë©”ì„œë“œ

â­ static ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ë©´ ì¢‹ì€ ìƒí™©
* ë¡œê·¸ ì¶œë ¥ ì „ìš© ë©”ì„œë“œ
* í¬ë§· ì „í™˜ ì „ìš© ë©”ì„œë“œ
ë“± ì‘ì§‘ë„ì™€ ê´€ê³„ì—†ëŠ” ê¸°ëŠ¥

### 5.2 ì´ˆê¸°í™” ë¡œì§ ë¶„ì‚°
```java
class GiftPoint{
    private static final int MIN_POINT = 0;
    final int value;

    GiftPoint(final int point){
        if(point < MIN_POINT){
            throw new IllegalArgumentException("í¬ì¸íŠ¸ë¥¼ 0 ì´ìƒ ì…ë ¥í•´ì•¼ í•©ë‹ˆë‹¤.");
        }

        value = point;
    }

    /**
     * í¬ì¸íŠ¸ ì¶”ê°€í•˜ê¸°
     * 
     * @param other ì¶”ê°€ í¬ì¸íŠ¸
     * @return ì¶”ê°€ í›„ ë‚¨ì€ í¬ì¸íŠ¸
    */
    GiftPoint add(final GiftPoint other){
        return new GiftPoint(value + other.value);
    }

    /**
     * @return ë‚¨ì€ í¬ì¸íŠ¸ê°€ ì†Œë¹„ í¬ì¸íŠ¸ ì´ìƒì´ë¼ë©´ true
    */
    boolean isEnough(final ConsumptionPoint point){
        return point.value <= value;
    }

    /**
     * í¬ì¸íŠ¸ ì†Œë¹„í•˜ê¸°
     * 
     * @param point ì†Œë¹„ í¬ì¸íŠ¸
     * @return ì†Œë¹„ í›„ ë‚¨ì€ í¬ì¸íŠ¸
    */
    GiftPoint consume(final ConsumptionPoint point){
        if(!isEnough(point)){
            throw new IllegalArgumentException("í¬ì¸íŠ¸ê°€ ë¶€ì¡±í•©ë‹ˆë‹¤.");
        }

        return new GiftPoint(value - point.value);
    }
}

GiftPoint standardMembershipPoint = new GiftPoint(3000);
GiftPoint premiumMembershipPoint = new GiftPoint(10000);
```
ğŸš¨ ìƒì„±ìë¥¼ publicìœ¼ë¡œ ë§Œë“¤ë©´, ì˜ë„ì¹˜ ì•Šì€ ìš©ë„ì˜ ì‚¬ìš©ìœ¼ë¡œ ê´€ë ¨ëœ ë¡œì§ì´ ë¶„ì‚°ë˜ì–´ ìœ ì§€ë³´ìˆ˜ê°€ í˜ë“¤ì–´ ì§ˆ ìˆ˜ ìˆìŒ

â­ private ìƒì„±ì + íŒ©í† ë¦¬ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•´ ëª©ì ì— ë”°ë¼ ì´ˆê¸°í™”
```java
class GiftPoint{
    private static final int MIN_POINT = 0;
    private static final int STANDARD_MEMBERSHIP_POINT = 3000;
    private static final int PREMIUM_MEMBERSHIP_POINT = 10000;

    private GiftPoint(final int point){
        if(point < MIN_POINT){
            throw new IllegalArgumentException("í¬ì¸íŠ¸ëŠ” 0ì´ìƒ ì´ì–´ì•¼ í•©ë‹ˆë‹¤.");
        }

        value = point;
    }

    /**
     * @return í‘œì¤€ ê°€ì… ê¸°í”„íŠ¸ í¬ì¸íŠ¸
    */
    static GiftPoint forStandardMembership(){
        return new GiftPoint(STANDARD_MEMBERSHIP_POINT);
    }

    /**
     * @return í”„ë¦¬ë¯¸ì—„ ê°€ì… ê¸°í”„íŠ¸ í¬ì¸íŠ¸
    */
    static GiftPoint forPremiumMembership(){
        return new GiftPoint(PREMIUM_MEMBERSHIP_POINT);
    }
}

GiftPoint standardMembershipPoint = GiftPoint.forStandardMembership();
GiftPoint premiumMembershipPoint = GiftPoint.forPremiumMembership();
```

ğŸš¨ ìƒì„± ë¡œì§ì´ ë„ˆë¬´ ë§ì•„ì§€ë©´ í•´ë‹¹ í´ë˜ìŠ¤ì˜ í•˜ëŠ” ì¼ì´ ë¶ˆë¶„ëª…í•´ì§€ë¯€ë¡œ, ìƒì„± ì „ìš© íŒ©í† ë¦¬ í´ë˜ìŠ¤ë¡œ ë¶„ë¦¬í•˜ëŠ” ë°©ë²•ì„ ê³ ë ¤

### 5.3 ë²”ìš© ì²˜ë¦¬ í´ë˜ìŠ¤(Common/Util)
```java
class Common{
    // ìƒëµ

    static BigDecimal calcAmountIncludingTax(BigDecimal amountExcludingTax, BigDecimal taxRate){
        return amountExcludingTax.multiply(taxRate);
    }
}
```

```java
class AmountIncludingTax{
    final BigDecimal value;

    AmountIncludingTax(final AmountExcludingTax amountExcludingTax, final TaxRate taxRate){
        value = amountExcludingTax.value.multiply(taxRate.value);
    }
}
```

â­ ê¼­ í•„ìš”í•œ ê²½ìš°ê°€ ì•„ë‹ˆë¼ë©´, ë²”ìš© ì²˜ë¦¬ í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì§€ ì•ŠëŠ” ê²ƒì´ ì¢‹ìŒ
â†’ íš¡ë‹¨ ê´€ì‹¬ì‚¬ì™€ ê°™ì´ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ëª¨ë“  ë™ì‘ì— í•„ìš”í•œ ê¸°ëŠ¥ì€ ë²”ìš© ì½”ë“œë¡œ ë§Œë“¤ì–´ë„ ì¢‹ìŒ
* ë¡œê·¸ ì¶œë ¥
* ì˜¤ë¥˜ í™•ì¸
* ë””ë²„ê¹…
* ì˜ˆì™¸ ì²˜ë¦¬
* ìºì‹œ
* ë™ê¸°í™”
* ë¶„ì‚° ì²˜ë¦¬ ë“±


### 5.4 ê²°ê³¼ë¥¼ ë¦¬í„´í•˜ëŠ” ë° ë§¤ê°œë³€ìˆ˜ ì‚¬ìš©í•˜ì§€ ì•Šê¸°
â­ ë§¤ê°œë³€ìˆ˜ëŠ” ì…ë ¥ìœ¼ë¡œ ì „ë‹¬í•˜ëŠ” ê²ƒì´ ì¼ë°˜ì 
â†’ ì¶œë ¥ ë§¤ê°œë³€ìˆ˜ ì‚¬ìš© ì‹œ, ë§¤ê°œë³€ìˆ˜ê°€ ì…ë ¥ì¸ì§€ ì¶œë ¥ì¸ì§€ ë©”ì„œë“œ ë‚´ë¶€ì˜ ë¡œì§ì„ í™•ì¸í•´ì•¼ í•¨

```java
class ActorManager{
    void shift(Location location, int shiftX, int shiftY){
        location.x += shiftX;
        location.y += shiftY;
    }
}
```

```java
class Location{
    final int x;
    final int y;

    Location(final int x, final int y){
        this.x = x;
        this.y = y;
    }

    Location shift(final int shiftX, final int shiftY){
        final int nextX = x + shiftX;
        final int nextY = y + shiftY;

        return new Location(nextX, nextY);
    }
}
```

### 5.5 ë§¤ê°œë³€ìˆ˜ê°€ ë„ˆë¬´ ë§ì€ ê²½ìš°
```java
/**
 * ë§¤ì§ í¬ì¸íŠ¸ íšŒë³µí•˜ê¸°
 * @param currentMagicPoint í˜„ì¬ ë§¤ì§í¬ì¸íŠ¸ ì”ëŸ‰
 * @param originalMaxMagicPoint ì›ë˜ ë§¤ì§í¬ì¸íŠ¸ ìµœëŒ“ê°’
 * @param maxMagicPointIncrements ì¥ë¹„ë¡œ ì¦ê°€í•˜ëŠ” ë§¤ì§í¬ì¸íŠ¸ ìµœëŒ“ê°’ ì¦ê°€ëŸ‰
 * @param recoveryAMount íšŒë³µëŸ‰
 * @return íšŒë³µ í›„ì˜ ë§¤ì§í¬ì¸íŠ¸ ì”ëŸ‰
*/
int recoverMagicPoint(int currentMagicPoint, int originalMaxMagicPoint, List<Integer> maxMagicPointIncrements, int recoveryAmount){
    int currentMaxMagicPoint = originalMaxMagicPoint;
    for(int each : maxMagicPointIncrements){
        currentMaxMagicPoint += each;
    }

    return Math.min(currentMagicPoint, recoveryAmount, currentMaxMagicPoint);
}
```

â­ ê°œë…ì ìœ¼ë¡œ ì˜ë¯¸ ìˆëŠ” ë‹¨ìœ„ëŠ” ëª¨ë‘ í´ë˜ìŠ¤ë¡œ ë§Œë“¤ê¸°
â†’ ë§¤ê°œë³€ìˆ˜ê°€ ì•„ë‹ˆë¼ ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ë¡œ í‘œí˜„í•˜ê¸°
```java
class MagicPoint{
    private int currentAmount;
    private int originalMaxAmount;
    private final List<Integer> maxIncrements;

    /**
     * @return í˜„ì¬ ë§¤ì§ í¬ì¸íŠ¸ ì”ëŸ‰
    */
    int current(){
        return currentAmount;
    }

    /**
     * @return ë§¤ì§ í¬ì¸íŠ¸ ìµœëŒ“ê°’
    */
    int max(){
        int amount = originalMaxAmount;
        for(int each : maxIncrements){
            amount += each;
        }

        return amount;
    }

    /**
     * ë§¤ì§ í¬ì¸íŠ¸ íšŒë³µí•˜ê¸°
     * @param recoveryAmount íšŒë³µëŸ‰
    */
    void recover(final int recoveryAmount){
        currentAmount = Math.min(currentAmount + recoveryAmount, max());
    }

    /**
     * ë§¤ì§ í¬ì¸íŠ¸ ì†Œë¹„í•˜ê¸°
     * @param consumeAmount ì†Œë¹„ëŸ‰
    */
    void consume(final int consumeAmount){...}
}
```

### 5.6 ë©”ì„œë“œ ì²´ì¸
```java
/**
 * ê°‘ì˜· ì…ê¸°
 * @param memberId ì¥ë¹„ë¥¼ ë³€ê²½í•˜ê³  ì‹¶ì€ ë©¤ë²„ì˜ ID
 * @param newArmor ì…ì„ ê°‘ì˜·
*/
void equipArmor(int memberId, Armor newArmor){
    if(party.members[memberId].equipments.canChange){
        party.members[memberId].equipments.armor = newArmor;
    }
}
```

â­ ìƒì„¸í•œ ë¡œì§ì€ í˜¸ì¶œí•˜ëŠ” ìª½ì´ ì•„ë‹ˆë¼, í˜¸ì¶œë˜ëŠ” ìª½ì— êµ¬í˜„í•˜ê¸°
```java
/**
 * ì¥ë¹„í•˜ê³  ìˆëŠ” ë°©ì–´êµ¬ ëª©ë¡
*/
class Equipments{
    private boolean canChange;
    private Equipment head;
    private Equipment armor;
    private Equipment arm;

    /**
     * ê°‘ì˜· ì¥ë¹„í•˜ê¸°
     * 
     * @param newArmor ì¥ë¹„í•  ê°‘ì˜·
    */
   void equipArmor(final Equipment newArmor){
    if(canChange){
        armor = newArmor;
    }
   }

    /**
     * ì „ì²´ ì¥ë¹„ í•´ì œí•˜ê¸°
    */
    void deactiveAll(){
        head = Equipment.EMPTY;
        armor = Equipment.EMPTY;
        arm = Equipment.EMPTY;
    }
}
```
