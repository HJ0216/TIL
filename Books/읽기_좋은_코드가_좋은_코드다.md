# 읽기 좋은 코드가 좋은 코드다

📖 2024.03.24 -


## 1. 코드는 이해하기 쉬워야 한다
* 가독성의 기본 정리
    * 다른 사람이 코드를 자유롭게 수정하고, 버그를 짚어내고, 수정된 내용이 자신이 작성한 다른 부분의 코드와 어떻게 상호작용하는지 알 수 있어야 한다
    * 적은 분량으로 코드를 작성하는 것도 좋은 목표이지만, 이해를 위한 시간을 최소화하는 게 더 좋은 목표이다.

## 2. 이름에 정보 담기
* 특정한 단어 고르기
    * 구체적인 단어를 선택하기

|단어|대안|
|---|----|
|send|deliver, dispatch, announce, route|
|find|search, extract, locate, recover|
|start|launch, create, begin, open|
|make|create, set up, build, generate, compose, add, new|

* tmp나 retval 같은 보편적인 이름 피하기
    * 역할을 설명하는 변수를 사용하면 버그를 더 쉽게 찾아낼 수 있다.
    * tmp라는 이름은 짧게 임시적으로만 존재하고, 임시적 존재 자체가 변수의 가장 중요한 용도일 때에 한해서 사용해야 한다.

```cpp
if(clubs[i].members[k] == users[j])

// 반복문에서 여러개의 인덱스를 사용할 때, 명확한 의미를 들어내는 이름을 사용하면 버그를 찾아내기 쉽다.
if(clubs[club_i].members[member_i] == users[user_i])
```

* 추상적인 이름보다 구체적인 이름을 선호하라
* 추가적인 정보를 이름에 추가하기
    * 변수가 시간의 양이나 바이트 수 같은 측정치를 담고 있다면, 변수명에 단위를 포함시키는 게 도움이 된다.
    * 변수의 의미를 제대로 이해하는 것이 중요하다면 그 의미를 드러내는 정보를 이름에 포함시켜야 한다.

|함수|인수 단위를 포함하게 재작성|
|---|-------------------------|
|Start(int delay)|delay → delay_secs|
|Create(int size)|size → size_mb|
|ThrottleDownload(float limit)|limit → max_kbps|
|Rotate(float angle)|angle → degrees_cw|


|상황|변수명|더 나은 이름|
|---|------|-----------|
|패스워드가 plaintext에 담겨 있고, 추가적인 처리를 하기 전에 반드시 암호화되어야 한다.|password|plaintext_password|
|사용자에게 보여지는 설명문이 화면에 나타나기 전에 이스케이프처리 되어야 한다.|comment|unescaped_comment|
|html의 바이트가 UTF-8으로 변환되었다.|html|html_utf8|
|입력데이터가 url encoded 되었다.|data|data_urlenc|

* 이름은 얼마나 길어야 하는가
    * 좁은 범위에서만 사용되는 변수의 이름에 많은 정보를 담을 필요가 없다.
    * 어떤 이름이 클래스 변수이거나 전역 변수와 같은 큰 범위를 갖는다면, 이름에 의미를 분명하게 만들기 위한 정보를 충분히 포함해야 한다.
    * 불필요한 단어 제거하기

* 이름 포맷팅으로 의미를 전달하라
```cpp
static const int kMaxOpenFiles = 100;

class LogReader{
    public:
        void OpenFile(string local_file);
    private:
        int offset_;
        DISALLOW_COPY_AND_ASSIGN(LogReader);
}
```
```html
<div id="middle_column" class="main-content">
```

## 3. 오해할 수 없는 이름들
* 본인이 지은 이름을 다른 사람들이 다른 의미로 해석할 수 있을까라는 질문을 던져보며 철저하게 확인해야 한다.
    * Filter → Select / Exclude
    * Clip(text, length) → Truncate(text, max_chars)
* 경계를 포함하는 한계값을 다룰 때는 min/max를 사용하라
* 경계를 포함하는 범위에는 first/last를 사용하라
* 시작 경계는 포함하고, 끝 경계는 배제하는 범위에는 begin/end를 사용하라
* 불리언 변수에 이름 붙이기
    * is/has/can/should
    * 이름에서는 의미를 부정하는 용어를 피하는 것이 좋다.
    
