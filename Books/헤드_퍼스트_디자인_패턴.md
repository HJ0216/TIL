# í—¤ë“œ í¼ìŠ¤íŠ¸ ë””ìì¸ íŒ¨í„´

ğŸ“– 2024.05.11 - 


## 1. ë””ìì¸ íŒ¨í„´ì˜ ì„¸ê³„ë¡œ ë– ë‚˜ê¸°: ë””ìì¸ íŒ¨í„´ ì†Œê°œì™€ ì „ëµ íŒ¨í„´

`ê¸°ì¡´`  
Duck
  * quack()
  * swim()
  * display()
  * fly()

MallardDuck
  * display(){...}
RedHeadDuck
  * display(){...}
RubberDuck
  * display(){...}

ğŸš¨ ë¬¸ì œ
  * ì¶”ìƒ í´ë˜ìŠ¤ì— ê¸°ëŠ¥ êµ¬í˜„ì„ í•˜ë©´ ìƒì†ë°›ëŠ” í´ë˜ìŠ¤ì—ì„œ ì˜¤ë²„ë¼ì´ë”©ì„ í•˜ì§€ ì•Šì•˜ì„ ê²½ìš° ë¬¸ì œ ë°œìƒ

â­ ë°”ë€ŒëŠ” ë¶€ë¶„ê³¼ ê·¸ë ‡ì§€ ì•Šì€ ë¶€ë¶„ì„ ë¶„ë¦¬í•˜ì—¬ ë³€í™”í•˜ëŠ” ë¶€ë¶„ì„ ë½‘ì•„ë‚´ê¸°

`ë³€ê²½`  
Duck
  * FlyBehavior flyBehavior
  * QuackBehavior quackBehavior
  * performQuack()
  * swim()
  * display()
  * performFly()

```java
public abstract class Duck{
    QuackBehavior quackBehavior;

    public void performQuack(){
        quackBehavior.quack();
    }
}

public class MallardDuck extends Duck{
    public MallardDuck(){
        quackBehavior = new Quack();
        flyBehavior = new FlyWithWings();
    }

    public void display(){
        System.out.println("ì €ëŠ” ë¬¼ì˜¤ë¦¬ì…ë‹ˆë‹¤ğŸ¦†");
    }
}
```

`ë™ì ìœ¼ë¡œ í–‰ë™ ì§€ì •`  
Duck
  * FlyBehavior flyBehavior
  * QuackBehavior quackBehavior
  * swim()
  * display()
  * performQuack()
  * performFly()
  * setFlyBehavior()
  * setQuackBehavior()

```java
public void setFlyBehavior(FlyBehavior fly){
    flyBehavior = fly;
}
public void setQuackBehavior(QuackBehavior quack){
    quackBehavior = quack;
}

Duck duck = new ModelDuck();
duck.performFly(); // ìƒì„±ìì—ì„œ ì„¤ì •ëœ flyBehaviorê°€ í˜¸ì¶œë¨
duck.setFlyBehavior(new FlyRocketPowered()); // flyBehavior ìƒˆë¡œ ì„¤ì •
duck.performFly(); // setFlyBehaviorì—ì„œ ì„¤ì •ëœ flyBehaviorê°€ í˜¸ì¶œë¨
```

`ì „ëµ íŒ¨í„´(Strategy Pattern)`  
ì•Œê³ ë¦¬ì¦˜êµ°ì„ ì •ì˜í•˜ê³  ìº¡ìŠí™”í•´ì„œ ê°ê°ì˜ ì•Œê³ ë¦¬ì¦˜êµ°ì„ ìˆ˜ì •í•´ì„œ ì“¸ ìˆ˜ ìˆê²Œ í•¨  
ì „ëµ íŒ¨í„´ì„ ì‚¬ìš©í•˜ë©´ í´ë¼ì´ì–¸íŠ¸ë¡œë¶€í„° ì•Œê³ ë¦¬ì¦˜ì„ ë¶„ë¦¬í•´ì„œ ë…ë¦½ì ìœ¼ë¡œ ë³€ê²½í•  ìˆ˜ ìˆìŒ



## 2. ê°ì²´ë“¤ì—ê²Œ ì—°ë½ ëŒë¦¬ê¸°: ì˜µì €ë²„ íŒ¨í„´

`ì˜µì €ë²„ íŒ¨í„´(Observer Pattern)`  
í•œ ê°ì²´ê°€ ìƒíƒœê°€ ë°”ë€Œë©´ ê·¸ ê°ì²´ì— ì˜ì¡´í•˜ëŠ” ë‹¤ë¥¸ ê°ì²´ì—ê²Œ ì—°ë½ì´ ê°€ê³  ìë™ìœ¼ë¡œ ë‚´ìš©ì´ ê°±ì‹ ë˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì¼ëŒ€ë‹¤ ì˜ì¡´ì„±ì„ ì •ì˜í•¨

```java
public interface Subject{
    public void registerObserver(Observer o);
    public void removeObserver(Observer o);
    public void notifyObservers();
}

public interface Observer{
    public void update(float temp, float humidity, float pressure)
    // ì •ë³´ê°€ ë³€ê²½ë˜ì—ˆì„ ë•Œ Observerì—ê²Œ ì „ë‹¬ë˜ëŠ” ìƒíƒœê°’ë“¤
    // Observer ì¸í„°í˜ì´ìŠ¤ëŠ” ëª¨ë“  ì˜µì €ë²„ í´ë˜ìŠ¤ì—ì„œ êµ¬í˜„í•´ì•¼í•˜ë¯€ë¡œ update()ë„ í•„ìˆ˜ êµ¬í˜„
}

public interface DisplayElement{
    public void display();
}

public class WeatherData implements Subject{
    private List<Observer> observers;
    private float temperature;
    private float humidity;
    private float pressure;

    public WeatherData(){
        observers = new ArrayList<Observer>();
    }

    public void registerObserver(Observer o){
        observers.add(o)
    }

    public void removeObserver(Observer o){
        observers.remove(o)
    }

    public void notifyObservers(){
        for(Observer o : observers){
            o.update(temperature, humidity, pressure);
        }
    }

    public void measurementsChanged(){
        notifyObservers();
    }

    public void setMeasurements(float temperature, float humidity, float pressure){
        this.temperature = temperature;
        this.humidity = humidity;
        this.pressure = pressure;

        measurementsChanged();
    }
}

public class CurrentConditionsDisplay implements Observer, DisplayElement(){
    private float temperature;
    private float humidity;
    private WeatherData weatherData;

    public CurrentConditionsDisplay(WeatherData weatherData){
        this.weatherData = weatherData;
        weatherData.registerObserver(this);
    }

    public void update(float temperature, float humidity, float pressure){
        this.temperature = temperature;
        this.humidity = humidity;
        display();
    }

    public void display(){
        System.out.println("ì˜¨ë„: " + temperature + ", ìŠµë„: " + humidity);
    }
}

public class WeatherStation{
    public static void main(String[] args){
        WeatherData weatherData = new WeatherData();

        CurrentConditionsDisplay currentDisplay = new CurrentConditionsDisplay(weatherData);
        StatisticsDisplay statisticsDisplay = new StatisticsDisplay(weatherData);
        ForecastDisplay forecastDisplay = new ForecastDisplay(weatherData);

        weatherData.setMeasurements(80, 65, 30.4f);
        weatherData.setMeasurements(82, 70, 29.9f);
        weatherData.setMeasurements(78, 90, 29.2f);
    }
}
```

ë³€ê²½ì´ ë°œìƒí•˜ë©´ ê°’ì„ ë³´ë‚´ì£¼ëŠ” `Push ë°©ì‹`ì—ì„œ ë³€ê²½ì„ ì•Œë¼ë©´ ì˜µì €ë²„ê°€ í•„ìš”í•œ ê°’ì„ ê°€ì ¸ì˜¤ëŠ” `Pull ë°©ì‹`ìœ¼ë¡œ ë³€ê²½
```java
// WeatherData
public void notifyObservers(){
    for(Observer o : observers){
        o.update();
    }
}

public interface Observer{
    public void update();
}

// CurrentConditionsDisplay
public void update(){
    this.temperature = weatherData.getTemperature();
    this.humidity = humidity.getHumidity();
    display();
}

```

ğŸ¤“ ì˜ˆì‹œ
  * C#: INotifyPropertyChanged
    * WPFì—ì„œ ì£¼ë¡œ ë°ì´í„° ë°”ì¸ë”© ì‹œì— í”„ë¡œí¼í‹° ê°’ì´ ë³€ê²½ë  ë•Œë§ˆë‹¤ UIì— ë³€ê²½ ì‚¬í•­ì„ ìë™ìœ¼ë¡œ ì•Œë¦¬ê¸° ìœ„í•´ ì‚¬ìš©



## 3. ê°ì²´ ê¾¸ë¯¸ê¸°: ë°ì½”ë ˆì´í„° íŒ¨í„´

â­ OCPë¥¼ ì§€í‚¤ë‹¤ ë³´ë©´ ìƒˆë¡œìš´ ë‹¨ê³„ì˜ ì¶”ìƒí™”ê°€ í•„ìš”í•œ ê²½ìš°ê°€ ì¢…ì¢… ìˆëŠ”ë°, ì¶”ìƒí™”ë¥¼ í•˜ë‹¤ ë³´ë©´ ì½”ë“œê°€ ë³µì¡í•´ì§ â†’ ê·¸ë˜ì„œ ê°€ì¥ ë°”ë€” ê°€ëŠ¥ì„±ì´ ë†’ì€ ë¶€ë¶„ì„ ì¤‘ì ì ìœ¼ë¡œ ì‚´í´ë³´ê³  OCPë¥¼ ì ìš©í•˜ëŠ” ë°©ë²•ì´ ê°€ì¥ ì¢‹ìŒ
















































































































































































































































































































































































































































































































































































































































































































































































































































































































