# í—¤ë“œ í¼ìŠ¤íŠ¸ ë””ìì¸ íŒ¨í„´

ğŸ“– 2024.05.11 - 


## 1. ë””ìì¸ íŒ¨í„´ì˜ ì„¸ê³„ë¡œ ë– ë‚˜ê¸°: ë””ìì¸ íŒ¨í„´ ì†Œê°œì™€ ì „ëµ íŒ¨í„´

`ê¸°ì¡´`  
Duck
  * quack()
  * swim()
  * display()
  * fly()

MallardDuck
  * display(){...}
RedHeadDuck
  * display(){...}
RubberDuck
  * display(){...}

ğŸš¨ ë¬¸ì œ
  * ì¶”ìƒ í´ë˜ìŠ¤ì— ê¸°ëŠ¥ êµ¬í˜„ì„ í•˜ë©´ ìƒì†ë°›ëŠ” í´ë˜ìŠ¤ì—ì„œ ì˜¤ë²„ë¼ì´ë”©ì„ í•˜ì§€ ì•Šì•˜ì„ ê²½ìš° ë¬¸ì œ ë°œìƒ

â­ ë°”ë€ŒëŠ” ë¶€ë¶„ê³¼ ê·¸ë ‡ì§€ ì•Šì€ ë¶€ë¶„ì„ ë¶„ë¦¬í•˜ì—¬ ë³€í™”í•˜ëŠ” ë¶€ë¶„ì„ ë½‘ì•„ë‚´ê¸°

`ë³€ê²½`  
Duck
  * FlyBehavior flyBehavior
  * QuackBehavior quackBehavior
  * performQuack()
  * swim()
  * display()
  * performFly()

```java
public abstract class Duck{
    QuackBehavior quackBehavior;

    public void performQuack(){
        quackBehavior.quack();
    }
}

public class MallardDuck extends Duck{
    public MallardDuck(){
        quackBehavior = new Quack();
        flyBehavior = new FlyWithWings();
    }

    public void display(){
        System.out.println("ì €ëŠ” ë¬¼ì˜¤ë¦¬ì…ë‹ˆë‹¤ğŸ¦†");
    }
}
```

`ë™ì ìœ¼ë¡œ í–‰ë™ ì§€ì •`  
Duck
  * FlyBehavior flyBehavior
  * QuackBehavior quackBehavior
  * swim()
  * display()
  * performQuack()
  * performFly()
  * setFlyBehavior()
  * setQuackBehavior()

```java
public void setFlyBehavior(FlyBehavior fly){
    flyBehavior = fly;
}
public void setQuackBehavior(QuackBehavior quack){
    quackBehavior = quack;
}

Duck duck = new ModelDuck();
duck.performFly(); // ìƒì„±ìì—ì„œ ì„¤ì •ëœ flyBehaviorê°€ í˜¸ì¶œë¨
duck.setFlyBehavior(new FlyRocketPowered()); // flyBehavior ìƒˆë¡œ ì„¤ì •
duck.performFly(); // setFlyBehaviorì—ì„œ ì„¤ì •ëœ flyBehaviorê°€ í˜¸ì¶œë¨
```

`ì „ëµ íŒ¨í„´(Strategy Pattern)`  
ì•Œê³ ë¦¬ì¦˜êµ°ì„ ì •ì˜í•˜ê³  ìº¡ìŠí™”í•´ì„œ ê°ê°ì˜ ì•Œê³ ë¦¬ì¦˜êµ°ì„ ìˆ˜ì •í•´ì„œ ì“¸ ìˆ˜ ìˆê²Œ í•¨  
ì „ëµ íŒ¨í„´ì„ ì‚¬ìš©í•˜ë©´ í´ë¼ì´ì–¸íŠ¸ë¡œë¶€í„° ì•Œê³ ë¦¬ì¦˜ì„ ë¶„ë¦¬í•´ì„œ ë…ë¦½ì ìœ¼ë¡œ ë³€ê²½í•  ìˆ˜ ìˆìŒ



## 2. ê°ì²´ë“¤ì—ê²Œ ì—°ë½ ëŒë¦¬ê¸°: ì˜µì €ë²„ íŒ¨í„´

`ì˜µì €ë²„ íŒ¨í„´(Observer Pattern)`  
í•œ ê°ì²´ê°€ ìƒíƒœê°€ ë°”ë€Œë©´ ê·¸ ê°ì²´ì— ì˜ì¡´í•˜ëŠ” ë‹¤ë¥¸ ê°ì²´ì—ê²Œ ì—°ë½ì´ ê°€ê³  ìë™ìœ¼ë¡œ ë‚´ìš©ì´ ê°±ì‹ ë˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì¼ëŒ€ë‹¤ ì˜ì¡´ì„±ì„ ì •ì˜í•¨

```java
public interface Subject{
    public void registerObserver(Observer o);
    public void removeObserver(Observer o);
    public void notifyObservers();
}

public interface Observer{
    public void update(float temp, float humidity, float pressure)
    // ì •ë³´ê°€ ë³€ê²½ë˜ì—ˆì„ ë•Œ Observerì—ê²Œ ì „ë‹¬ë˜ëŠ” ìƒíƒœê°’ë“¤
    // Observer ì¸í„°í˜ì´ìŠ¤ëŠ” ëª¨ë“  ì˜µì €ë²„ í´ë˜ìŠ¤ì—ì„œ êµ¬í˜„í•´ì•¼í•˜ë¯€ë¡œ update()ë„ í•„ìˆ˜ êµ¬í˜„
}

public interface DisplayElement{
    public void display();
}

public class WeatherData implements Subject{
    private List<Observer> observers;
    private float temperature;
    private float humidity;
    private float pressure;

    public WeatherData(){
        observers = new ArrayList<Observer>();
    }

    public void registerObserver(Observer o){
        observers.add(o)
    }

    public void removeObserver(Observer o){
        observers.remove(o)
    }

    public void notifyObservers(){
        for(Observer o : observers){
            o.update(temperature, humidity, pressure);
        }
    }

    public void measurementsChanged(){
        notifyObservers();
    }

    public void setMeasurements(float temperature, float humidity, float pressure){
        this.temperature = temperature;
        this.humidity = humidity;
        this.pressure = pressure;

        measurementsChanged();
    }
}

public class CurrentConditionsDisplay implements Observer, DisplayElement(){
    private float temperature;
    private float humidity;
    private WeatherData weatherData;

    public CurrentConditionsDisplay(WeatherData weatherData){
        this.weatherData = weatherData;
        weatherData.registerObserver(this);
    }

    public void update(float temperature, float humidity, float pressure){
        this.temperature = temperature;
        this.humidity = humidity;
        display();
    }

    public void display(){
        System.out.println("ì˜¨ë„: " + temperature + ", ìŠµë„: " + humidity);
    }
}

public class WeatherStation{
    public static void main(String[] args){
        WeatherData weatherData = new WeatherData();

        CurrentConditionsDisplay currentDisplay = new CurrentConditionsDisplay(weatherData);
        StatisticsDisplay statisticsDisplay = new StatisticsDisplay(weatherData);
        ForecastDisplay forecastDisplay = new ForecastDisplay(weatherData);

        weatherData.setMeasurements(80, 65, 30.4f);
        weatherData.setMeasurements(82, 70, 29.9f);
        weatherData.setMeasurements(78, 90, 29.2f);
    }
}
```

ë³€ê²½ì´ ë°œìƒí•˜ë©´ ê°’ì„ ë³´ë‚´ì£¼ëŠ” `Push ë°©ì‹`ì—ì„œ ë³€ê²½ì„ ì•Œë¼ë©´ ì˜µì €ë²„ê°€ í•„ìš”í•œ ê°’ì„ ê°€ì ¸ì˜¤ëŠ” `Pull ë°©ì‹`ìœ¼ë¡œ ë³€ê²½
```java
// WeatherData
public void notifyObservers(){
    for(Observer o : observers){
        o.update();
    }
}

public interface Observer{
    public void update();
}

// CurrentConditionsDisplay
public void update(){
    this.temperature = weatherData.getTemperature();
    this.humidity = humidity.getHumidity();
    display();
}

```

ğŸ¤“ ì˜ˆì‹œ
  * C#: INotifyPropertyChanged
    * WPFì—ì„œ ì£¼ë¡œ ë°ì´í„° ë°”ì¸ë”© ì‹œì— í”„ë¡œí¼í‹° ê°’ì´ ë³€ê²½ë  ë•Œë§ˆë‹¤ UIì— ë³€ê²½ ì‚¬í•­ì„ ìë™ìœ¼ë¡œ ì•Œë¦¬ê¸° ìœ„í•´ ì‚¬ìš©



## 3. ê°ì²´ ê¾¸ë¯¸ê¸°: ë°ì½”ë ˆì´í„° íŒ¨í„´

â­ OCPë¥¼ ì§€í‚¤ë‹¤ ë³´ë©´ ìƒˆë¡œìš´ ë‹¨ê³„ì˜ ì¶”ìƒí™”ê°€ í•„ìš”í•œ ê²½ìš°ê°€ ì¢…ì¢… ìˆëŠ”ë°, ì¶”ìƒí™”ë¥¼ í•˜ë‹¤ ë³´ë©´ ì½”ë“œê°€ ë³µì¡í•´ì§ â†’ ê·¸ë˜ì„œ ê°€ì¥ ë°”ë€” ê°€ëŠ¥ì„±ì´ ë†’ì€ ë¶€ë¶„ì„ ì¤‘ì ì ìœ¼ë¡œ ì‚´í´ë³´ê³  OCPë¥¼ ì ìš©í•˜ëŠ” ë°©ë²•ì´ ê°€ì¥ ì¢‹ìŒ


`ë°ì½”ë ˆì´í„° íŒ¨í„´(Decorator Pattern)`  
ê°ì²´ì— ì¶”ê°€ ìš”ì†Œë¥¼ ë™ì ìœ¼ë¡œ ë”í•  ìˆ˜ ìˆìŒ  
ì„œë¸Œí´ë˜ìŠ¤ë¥¼ ë§Œë“¤ ë•Œë³´ë‹¤ í›¨ì”¬ ìœ ì—°í•˜ê²Œ ê¸°ëŠ¥ì„ í™•ì¥í•  ìˆ˜ ìˆìŒ

```java
public abstract class Beverage{
    public enum Size {TALL, GRANDE, VENTI};
    Size size = Size.TALL;

    String description = "ì œëª© ì—†ìŒ";

    public String getDescription(){
        return description;
    }

    public void setSize(Size size){
        this.size = size;
    }

    public Size getSize(){
        return this.size;
    }

    public abstract double cost();
}

public abstract class CondimentDecorator extends Beverage{
    Beverage beverage;
    public abstract String getDescription();

    public Size getSize(){
        return beverage.getSize();
    }
}
```

```java
public class Espresso extends Beverage{
    public Espresso(){
        description = "ì—ìŠ¤í”„ë ˆì†Œ";
    }

    public double cost(){
        return 1.99;
    }
}
public class HouseBlend extends Beverage{
    public HouseBlend(){
        description = "í•˜ìš°ìŠ¤ ë¸”ë Œë“œ ì»¤í”¼";
    }

    public double cost(){
        return 0.89;
    }
}
public class DarkRoast extends Beverage{
    public DarkRoast(){
        description = "ë‹¤í¬ ë¡œìŠ¤íŠ¸ ì»¤í”¼";
    }

    public double cost(){
        return 0.99;
    }
}
public class Decaf extends Beverage{
    public Decaf(){
        description = "ë”” ì¹´í˜ì¸ ì»¤í”¼";
    }

    public double cost(){
        return 1.05;
    }
}
```

```java
public class Milk extends CondimentDecorator{
    public Milk(Beverage beverage){
        this.beverage = beverage;
    }
    public string getDescription(){
        return beverage.getDescription() + ", Milk";
    }
    public double cost(){
        double cost = beverage.cost();
        if(beverage.getSize() == Size.TALL){
            cost += 0.10;
        } else if(beverage.getSize() == Size.GRANDE){
            cost += 0.15;
        } else if(beverage.getSize() == Size.VENTI){
            cost += 0.20;
        }
    }
}
public class Mocha extends CondimentDecorator{
    public Mocha(Beverage beverage){
        this.beverage = beverage;
    }
    public string getDescription(){
        return beverage.getDescription() + ", Mocha";
    }
    public double cost(){
        return beverage.cost() + 0.20;
    }
}
public class Soy extends CondimentDecorator{
    public Soy(Beverage beverage){
        this.beverage = beverage;
    }
    public string getDescription(){
        return beverage.getDescription() + ", Soy";
    }
    public double cost(){
        return beverage.cost() + 0.15;
    }
}
public class Whip extends CondimentDecorator{
    public Whip(Beverage beverage){
        this.beverage = beverage;
    }
    public string getDescription(){
        return beverage.getDescription() + ", Whip";
    }
    public double cost(){
        return beverage.cost() + 0.10;
    }
}
```

```java
public class StarbuzzCoffee{
    public static void main(String args[]){
        Beverage beverage = new Espresso();
        System.out.println(beverage.getDescription() + " $" + beverage.cost());

        Beverage beverage2 = new DarkRoast();
        beverage2 = new new Mocha(beverage2);
        beverage2 = new new Mocha(beverage2);
        beverage2 = new new Whip(beverage2);
        System.out.println(beverage2.getDescription() + " $" + beverage2.cost());
    }
}
```

âœï¸ ì˜ˆì‹œ  
java.io
* InputStream: ì¶”ìƒ êµ¬ì„± ìš”ì†Œ
    * StringBufferInputStream
    * ByteArrayInputStream
    * FilterInputStream: êµ¬ìƒ êµ¬ì„± ìš”ì†Œ, ì¶”ìƒ ë°ì½”ë ˆì´í„°
        * PushBackInputStream
        * BufferedInputStream: êµ¬ìƒ ë°ì½”ë ˆì´í„°
            FilterInputStreamì— ì…ë ¥ì„ ë¯¸ë¦¬ ì½ì–´ ë” ë¹ ë¥´ê²Œ ì²˜ë¦¬í•  ìˆ˜ ìˆê²Œ í•´ ì£¼ëŠ” ë²„í¼ë§ ê¸°ëŠ¥ì„ ë”í•´ì£¼ëŠ” ì—­í• 
        * DataInputStream
        * InflatorInputStream
            * ZipInputStream: êµ¬ìƒ ë°ì½”ë ˆì´í„°
                zip íŒŒì¼ì—ì„œ ë°ì´í„°ë¥¼ ì½ì–´ ì˜¬ ë•Œ ê·¸ ì†ì— ë“¤ì–´ìˆëŠ” í•­ëª©ì„ ì½ëŠ” ê¸°ëŠ¥ì„ ë”í•´ì£¼ëŠ” ì—­í• 



## 4. ê°ì²´ì§€í–¥ ë¹µêµ½ê¸°: íŒ©í† ë¦¬ íŒ¨í„´

`ê¸°ì¡´`

```java
Pizza orderPizza(string type){
    Pizza pizza;

    if(type.equals("cheese")){
        pizza = new CheesePizza();
    } else if(type.equals("greek")){
        pizza = new GreekPizza();
    } else if(type.equals("pepperoni")){
        pizza = new PepperoniPizza();
    } else if(type.equals("clam")){
        pizza = new ClamPizza();
    } else if(type.equals("Veggie")){
        pizza = new VeggiePizza();
    }

    pizza.prepare();
    pizza.bake();
    pizza.cut();
    pizza.box();

    return pizza;
}
```

`ê°ì²´ ìƒì„± ìº¡ìŠí™”1`

```java
public class SimplePizzaFactory{
    public Pizza createPizza(string type){
        Pizza pizza = null;

        if(type.equals("cheese")){
            pizza = new CheesePizza();
        } else if(type.equals("greek")){
            pizza = new GreekPizza();
        } else if(type.equals("pepperoni")){
            pizza = new PepperoniPizza();
        } else if(type.equals("clam")){
            pizza = new ClamPizza();
        } else if(type.equals("Veggie")){
            pizza = new VeggiePizza();
        }

        return pizza;

    }
}

Pizza orderPizza(string type){
    SimplePizzaFactory factory;

    public PizzaStore(SimplePizzaFactory factory){
        this.factory = factory;
    }

    public Pizza orderPizza(String type){
        pizza.prepare();
        pizza.bake();
        pizza.cut();
        pizza.box();

        return pizza;
    }
}
```

`ê°ì²´ ìƒì„± ìº¡ìŠí™”1`
```java
public abstract class PizzaStore{
    public Pizza orderPizza(String type){
        Pizza pizza;

        pizza = createPizza(type);

        // pizzaê°€ ì–´ëŠ êµ¬ìƒ í´ë˜ìŠ¤ì˜ ê°ì²´ì¸ì§€ ì•Œ ìˆ˜ ì—†ìŒ
        pizza.prepare();
        pizza.bake();
        pizza.cut();
        pizza.box();

        return pizza;
    }

    abstract Pizza createPizza(String type);
    // ì¶”ìƒ ë©”ì„œë“œë¡œ ì„ ì–¸í•˜ì—¬ ì„œë¸Œ í´ë˜ìŠ¤ê°€ ê°ì²´ ìƒì„±ì„ ì±…ì„ì§€ë„ë¡ í•¨
}

public class NYPizzaStore extends PizzaStore{

    Pizza createPizza(String type){
        if(type.equals("cheese")){
            pizza = new NYStyleCheesePizza();
        } else if(type.equals("greek")){
            pizza = new NYStyleGreekPizza();
        } else if(type.equals("pepperoni")){
            pizza = new NYStylePepperoniPizza();
        } else if(type.equals("clam")){
            pizza = new NYStyleClamPizza();
        } else if(type.equals("Veggie")){
            pizza = new NYStyleVeggiePizza();
        } else{
            return null;
        }
    }
}

public abstract class Pizza{
    String name;
    String dough;
    String sauce;

    List<String> toppings = new ArrayList<String>();
    void prepare(){
        System.out.println("ì¤€ë¹„ ì¤‘: " + name);
        System.out.println("ë„ìš°ë¥¼ ëŒë¦¬ëŠ” ì¤‘...");
        System.out.println("ì†ŒìŠ¤ë¥¼ ë¿Œë¦¬ëŠ” ì¤‘...");
        System.out.println("í† í•‘ì„ ì˜¬ë¦¬ëŠ” ì¤‘...");
        for(String topping : toppings){
            System.out.println(" " + toppings);
        }
    }
    void bake(){
        System.out.println("175ë„ì—ì„œ 25ë¶„ ê°„ êµ½ê¸°");
    }
    void cut(){
        System.out.println("í”¼ìë¥¼ ì‚¬ì„ ìœ¼ë¡œ ìë¥´ê¸°");
    }
    void box(){
        System.out.println("ìƒìì— í”¼ì ë‹´ê¸°");
    }
    public String getName(){
        return name;
    }
}

public class NYStyleCheesePizza extends Pizza{
    public NYStyleCheesePizza(){
        name = "ë‰´ìš• ìŠ¤íƒ€ì¼ ì†ŒìŠ¤ì™€ ì¹˜ì¦ˆ í”¼ì";
        dough = "ì”¬ í¬ëŸ¬ìŠ¤íŠ¸ ë„ìš°";
        sauce = "ë§ˆë¦¬ë‚˜ë¼ ì†ŒìŠ¤";
    }

    toppings.add("ì˜ê²Œ ì¬ ë ˆì§€ì•„ë…¸ ì¹˜ì¦ˆ");
}

public class ChicagoStyleCheesePizza extends Pizza{
    public ChicagoStyleCheesePizza(){
        name = "ì‹œì¹´ê³  ìŠ¤íƒ€ì¼ ë”¥ ë””ì‰¬ ì¹˜ì¦ˆ í”¼ì";
        dough = "ì•„ì£¼ ë‘êº¼ìš´ í¬ëŸ¬ìŠ¤íŠ¸ ë„ìš°";
        sauce = "í”ŒëŸ¼í† ë§ˆí†  ì†ŒìŠ¤";
    }

    toppings.add("ì˜ê²Œ ì¡°ê°ë‚¸ ëª¨ì§œë ë¼ ì¹˜ì¦ˆ");

    void cut(){
        System.out.println("ë„¤ëª¨ë‚œ ëª¨ì–‘ìœ¼ë¡œ í”¼ì ìë¥´ê¸°");
    }
}

public class PizzaTestDrive{
    public static void main(String[] args){
        PizzaStore nyStore = new NYPizzaStore();
        PizzaStore chicagoStore = new ChicagoNYPizzaStore();

        Pizza pizza = nyStore.orderPizza("cheese");
        System.out.println("ì—ë‹¨ì´ ì£¼ë¬¸í•œ " + pizza.getName() + "\n");

        Pizza pizza = chicagoStore.orderPizza("cheese");
        System.out.println("ì¡°ì—˜ì´ ì£¼ë¬¸í•œ " + pizza.getName() + "\n");
    }
}
```

`íŒ©í† ë¦¬ ë©”ì„œë“œ íŒ¨í„´(Factory Method Pattern)`  
ê°ì²´ë¥¼ ìƒì„±í•  ë•Œ í•„ìš”í•œ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë§Œë“¤ê³  ì„œë¸Œí´ë˜ìŠ¤ì—ì„œ ì–´ë–¤ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“¤ì§€ í™•ì •  

```java
public interface PizzaIngredientFactory{
    public Dough createDough();
    public Sauce createSauce();
    public Cheese createCheese();
    public Veggies[] createVeggies();
    public Pepperoni createPepperoni();
    public Clam createClam();
}

public class NYPizzaIngredientFactory implements PizzaIngredientFactory{
    public Dough createDough(){
        return new ThinCrustDough();
    }
    public Sauce createSauce(){
        return new MarinaraSource();
    }
    public Cheese createCheese(){
        return new ParmesanCheese();
    }
    public Veggies[] createVeggies(){
        Veggies veggies[] = {new Garlic(), new Onion(), new Mushroom(), new RedPepper()};

        return veggies;
    }
    public Pepperoni createPepperoni(){
        return new SlicedCreatePepperoni();
    }
    public Clam createClam(){
        return new FreshClam();
    }
}

public abstract class Pizza{
    String name;

    Dough dough;
    Sauce sauce;
    Veggies veggies[];
    Cheese cheese;
    Pepperoni pepperoni;
    Clam clam;

    abstract void prepare();

    void bake(){
        System.out.println("175ë„ì—ì„œ 25ë¶„ ê°„ êµ½ê¸°");
    }
    void cut(){
        System.out.println("í”¼ìë¥¼ ì‚¬ì„ ìœ¼ë¡œ ìë¥´ê¸°");
    }
    void box(){
        System.out.println("ìƒìì— í”¼ì ë‹´ê¸°");
    }
    void setName(String name){
        this.name = name;
    }
    String getName(){
        return name;
    }
}

public class CheesePizza extends Pizza {
    PizzaIngredientFactory ingredientFactory;

    public CheesePizza(PizzaIngredientFactory ingredientFactory){
        this.ingredientFactory = ingredientFactory;
    }

    void prepare(){
        System.out.println("ì¤€ë¹„ ì¤‘: " + name);

        dough = ingredientFactory.createDough();
        sauce = ingredientFactory.createSauce();
        cheese = ingredientFactory.createCheese();
    }
}

public class NYPizzaStore extends PizzaStore{
    Pizza createPizza(String type){
        Pizza pizza = null;
        PizzaIngredientFactory ingredientFactory = new NYPizzaIngredientFactory();

        if(type.equals("cheese")){
            pizza = new CheesePizza(ingredientFactory);
            pizza.setName("ë‰´ìš• ìŠ¤íƒ€ì¼ ì¹˜ì¦ˆ í”¼ì");

        } else if(type.equals("pepperoni")){
            pizza = new PepperoniPizza(ingredientFactory);
            pizza.setName("ë‰´ìš• ìŠ¤íƒ€ì¼ í˜í¼ë¡œë‹ˆ í”¼ì");

        } else if(type.equals("clam")){
            pizza = new ClamPizza(ingredientFactory);
            pizza.setName("ë‰´ìš• ìŠ¤íƒ€ì¼ ì¡°ê°œ í”¼ì");

        } else if(type.equals("Veggie")){
            pizza = new VeggiePizza(ingredientFactory);
            pizza.setName("ë‰´ìš• ìŠ¤íƒ€ì¼ ì•¼ì±„ í”¼ì");

        } else{
            return null;
        }
    }    
}
```













































































































































































































































































































































































































































































































































































































































































































































































































































































